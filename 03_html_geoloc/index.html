<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercice Geoloc</title>
    <script>
        function displayPosition(position) {
            var geoInfos = "Votre position enregistré : <br>";
            
            console.log(position);
            
            geoInfos += "Votre latitude : " + position.coords.latitude + "<br>";
            geoInfos += "Votre longitude : " + position.coords.longitude + "<br>";
            
            if (position.coords.speed !== null) {
                geoInfos += "Votre vitesse de déplacement : " + position.coords.speed;
            }
            
            document.getElementById('position').innerHTML = geoInfos;
        }
        
        function handleError(error) {
            var info = "Erreur lors de la geolocalisation : ";
            switch(error.code) {
                case error.TIMEOUT:
                    info += "Timeout !";
                    break;
                case error.PERMISSION_DENIED:
                    info += "Vous n'avez pas donné la permission";
                    break;
                case error.POSITION_UNAVAILABLE:
                    info += "La position n'a pas pu être déterminée";
                    break;
                case error.UNKNOWN_ERROR:
                    info += "Erreur inconnue";
                    break;
            }
            
            document.getElementById('position').innerHTML = info;
        }
        
        if (navigator.geolocation) {
            //navigator.geolocation.getCurrentPosition(myPosition, handleError);
            navigator.geolocation.watchPosition(displayPosition, handleError);
        } else {
            alert("Votre navigateur ne prend pas en compte la geolocalisation HTML5");
        }
    </script>
</head>
<body>
    <p id="position">Zone d'information de geolocalisation</p>
</body>
</html>